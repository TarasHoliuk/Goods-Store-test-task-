{"version":3,"sources":["components/Details/Details.tsx","api/api.ts","components/DeleteModal/DeleteModal.tsx","components/GoodCard/GoodCard.tsx","components/GoodsList/GoodsList.tsx","components/Sort/Sort.tsx","components/HomePage/HomePage.tsx","App.tsx","index.tsx"],"names":["Details","props","good","className","name","toUpperCase","slice","src","imgUrl","alt","description","color","weight","price","amount","to","LoadGoods","a","fetch","response","json","DeleteModal","setDeleteModalStatus","setGoodToDelete","goodName","deleteModalStatus","cn","type","onClick","aria-label","GoodCard","setGoodForDetails","setUrl","useState","detailsUrl","setDetailsUrl","useEffect","url","generatePath","id","GoodsList","sortBy","goods","setGoods","goodToDelete","goodsFromApi","sort","b","localeCompare","filter","map","Sort","setSortBy","value","onChange","event","target","HomePage","App","goodForDetails","path","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.518e46b0.chunk.js","sourcesContent":["import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport './Details.scss';\n\ninterface Props {\n  good: Good;\n}\n\nexport const Details: React.FC<Props> = (props) => {\n  const { good } = props;\n\n  return (\n    <div className=\"details\">\n      <div className=\"layer card p-6\">\n        <h1 className=\"title has-text-centered \">\n          {`${good.name[0].toUpperCase()}${good.name.slice(1)}`}\n        </h1>\n        <div className=\"image-container mb-2\">\n          <img src={good.imgUrl} alt={good.name} />\n        </div>\n        <p className=\"is-size-4\">Description:</p>\n        <p className=\"is-size-5 mb-2\">\n          {good.description}\n        </p>\n        <div className=\"level\">\n          <p className=\"level-left\">\n            {`Color: ${good.color}`}\n          </p>\n          <p className=\"level-right\">\n            {`Weight: ${good.weight} per piece`}\n          </p>\n        </div>\n        <div className=\"level\">\n          <p className=\"level-left\">\n            {`Price: ${good.price} UAH/kg`}\n          </p>\n          <p className=\"level-right\">\n            {`Left ${good.amount} pieces`}\n          </p>\n        </div>\n        <NavLink\n          to=\"/\"\n          className=\"button is-link\"\n        >\n          Go Back\n        </NavLink>\n      </div>\n    </div>\n  );\n};\n","const BASE_URL = 'https://my-json-server.typicode.com/tarasholiuk/db';\n\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nexport const LoadGoods = async () => {\n  const response = await fetch(`${BASE_URL}/goods`);\n\n  return response.json();\n};\n","import React from 'react';\nimport cn from 'classnames';\nimport './DeleteModal.scss';\n\ninterface Props {\n  setDeleteModalStatus: React.Dispatch<React.SetStateAction<boolean>>\n  setGoodToDelete: React.Dispatch<React.SetStateAction<string>>\n  goodName: string;\n  deleteModalStatus: boolean;\n}\n\nexport const DeleteModal: React.FC<Props> = (props) => {\n  const {\n    setDeleteModalStatus,\n    setGoodToDelete,\n    goodName,\n    deleteModalStatus,\n  } = props;\n\n  return (\n    <div className={cn('modal', { 'is-active': deleteModalStatus })}>\n      <div className=\"modal-background\"></div>\n      <div className=\"modal-content has-background-light p-6 my-modal\">\n        <h1 className=\"modal-card-title mb-4\">\n          Are you sure you want to delete this item?\n        </h1>\n        <button\n          className=\"button is-danger mr-4\"\n          type=\"button\"\n          onClick={() => setGoodToDelete(goodName)}\n        >\n          Yes, delete\n        </button>\n        <button\n          className=\"button is-success\"\n          type=\"button\"\n          onClick={() => setDeleteModalStatus(false)}\n        >\n          No, cancel\n        </button>\n      </div>\n      <div className=\"modal-close is-large\" aria-label=\"close\"></div>\n    </div>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { generatePath } from 'react-router';\nimport './GoodCard.scss';\nimport { DeleteModal } from '../DeleteModal/DeleteModal';\n\ninterface Props {\n  good: Good;\n  setGoodToDelete: React.Dispatch<React.SetStateAction<string>>\n  setGoodForDetails: React.Dispatch<React.SetStateAction<Good | null>>\n  setUrl: React.Dispatch<React.SetStateAction<string>>\n}\n\nexport const GoodCard: React.FC<Props> = (props) => {\n  const {\n    good,\n    setGoodToDelete,\n    setGoodForDetails,\n    setUrl,\n  } = props;\n  const [detailsUrl, setDetailsUrl] = useState('');\n  const [deleteModalStatus, setDeleteModalStatus] = useState(false);\n\n  useEffect(() => {\n    const url = generatePath(('details/:id'), {\n      id: good.id,\n    });\n\n    setDetailsUrl(url);\n  }, []);\n\n  const liftStateUp = () => {\n    setUrl(detailsUrl);\n    setGoodForDetails(good);\n  };\n\n  return (\n    <div className=\"card p-4 my-card\">\n      <div className=\"wrapper\">\n        <div className=\"card__image-box\">\n          <img\n            src={good.imgUrl}\n            alt={`Fruit: ${good.name}`}\n            className=\"card__image\"\n          />\n        </div>\n        <div className=\"card-content\">\n          <div className=\"media\">\n            <div className=\"media-content\">\n              <p className=\"title is-4\">\n                {`${good.name[0].toUpperCase()}${good.name.slice(1)}`}\n              </p>\n            </div>\n          </div>\n          <div className=\"level\">\n            <p className=\"level-left\">\n              {`Price: ${good.price}`}\n            </p>\n            <p className=\"level-right\">\n              {`Amount: ${good.amount}`}\n            </p>\n          </div>\n          <div className=\"content\">\n            {good.description}\n          </div>\n        </div>\n      </div>\n      <div className=\"level\">\n        <NavLink\n          to={detailsUrl}\n          className=\"button is-success level-item mr-1\"\n          onClick={() => liftStateUp()}\n        >\n          Details\n        </NavLink>\n        <button\n          type=\"button\"\n          className=\"button is-warning level-item ml-1\"\n          onClick={() => setDeleteModalStatus(true)}\n        >\n          Delete\n        </button>\n        <DeleteModal\n          setDeleteModalStatus={setDeleteModalStatus}\n          setGoodToDelete={setGoodToDelete}\n          goodName={good.name}\n          deleteModalStatus={deleteModalStatus}\n        />\n      </div>\n    </div>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport Loader from 'react-loader-spinner';\nimport { LoadGoods } from '../../api/api';\nimport { GoodCard } from '../GoodCard/GoodCard';\nimport './GoodsList.scss';\n\ninterface Props {\n  sortBy: SortBy;\n  setGoodForDetails: React.Dispatch<React.SetStateAction<Good | null>>\n  setUrl: React.Dispatch<React.SetStateAction<string>>\n}\n\nexport const GoodsList: React.FC<Props> = (props) => {\n  const { sortBy, setGoodForDetails, setUrl } = props;\n  const [goods, setGoods] = useState<Good[] | null>(null);\n  const [goodToDelete, setGoodToDelete] = useState('');\n\n  useEffect(() => {\n    (async () => {\n      const goodsFromApi: Good[] = await LoadGoods();\n\n      setGoods(goodsFromApi);\n    })();\n  }, []);\n\n  const sortGoods = (sort: SortBy) => {\n    if (goods) {\n      setGoods([...goods].sort((a, b) => {\n        switch (sort) {\n          case 'amount':\n            return a.amount - b.amount;\n\n          case 'name':\n            return a.name.localeCompare(b.name);\n\n          default:\n            return 0;\n        }\n      }));\n    }\n  };\n\n  useEffect(() => {\n    sortGoods(sortBy);\n  }, [sortBy]);\n\n  const deleteGood = (goodName: string) => {\n    if (goods) {\n      setGoods([...goods]\n        .filter(good => good.name !== goodName));\n    }\n  };\n\n  useEffect(() => {\n    deleteGood(goodToDelete);\n  }, [goodToDelete]);\n\n  return (\n    <div>\n      <div className=\"container\">\n        {goods\n          ? goods.map(good => (\n            <GoodCard\n              good={good}\n              setGoodToDelete={setGoodToDelete}\n              setGoodForDetails={setGoodForDetails}\n              setUrl={setUrl}\n              key={good.id}\n            />\n          ))\n          : <Loader type=\"Rings\" color=\"green\" />}\n      </div>\n    </div>\n  );\n};\n","import React, { Dispatch, SetStateAction } from 'react';\n\ninterface Props {\n  setSortBy: Dispatch<SetStateAction<SortBy>>\n  sortBy: SortBy;\n}\n\nexport const Sort: React.FC<Props> = (props) => {\n  const { setSortBy, sortBy } = props;\n\n  return (\n    <div className=\"container\">\n      <form className=\"field\">\n        <div className=\"mb-2\">Sort By:</div>\n        <div className=\"control\">\n          <div className=\"select\">\n            <select\n              id=\"sort\"\n              value={sortBy}\n              onChange={(event) => setSortBy(event.target.value as SortBy)}\n            >\n              <option value=\"name\">\n                Name\n              </option>\n              <option value=\"amount\">\n                Amount\n              </option>\n            </select>\n          </div>\n        </div>\n      </form>\n    </div>\n  );\n};\n","import React, { useState } from 'react';\nimport { GoodsList } from '../GoodsList/GoodsList';\nimport { Sort } from '../Sort/Sort';\n\ninterface Props {\n  setGoodForDetails: React.Dispatch<React.SetStateAction<Good | null>>\n  setUrl: React.Dispatch<React.SetStateAction<string>>\n}\n\nexport const HomePage: React.FC<Props> = (props) => {\n  const { setGoodForDetails, setUrl } = props;\n  const [sortBy, setSortBy] = useState<SortBy>('name');\n\n  return (\n    <div className=\"home-page pt-5\">\n      <h1 className=\"title has-text-centered\">Goods Store</h1>\n      <Sort setSortBy={setSortBy} sortBy={sortBy} />\n      <GoodsList\n        sortBy={sortBy}\n        setGoodForDetails={setGoodForDetails}\n        setUrl={setUrl}\n      />\n    </div>\n  );\n};\n","import React, { useState } from 'react';\nimport Loader from 'react-loader-spinner';\nimport {\n  Redirect,\n  Route,\n  Switch,\n} from 'react-router';\nimport { Details } from './components/Details/Details';\nimport { HomePage } from './components/HomePage/HomePage';\n\nexport const App: React.FC = () => {\n  const [goodForDetails, setGoodForDetails] = useState<Good | null>(null);\n  const [url, setUrl] = useState('');\n\n  return (\n    <div className=\"App\">\n      <Switch>\n        <Route path=\"/\" exact>\n          <HomePage setGoodForDetails={setGoodForDetails} setUrl={setUrl} />\n        </Route>\n\n        <Route path={`/${url}`}>\n          {goodForDetails\n            ? <Details good={goodForDetails} />\n            : <Loader type=\"TailSpin\" />}\n        </Route>\n\n        <Redirect\n          to=\"/\"\n        />\n      </Switch>\n    </div>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport './index.css';\nimport 'bulma/css/bulma.css';\nimport { App } from './App';\n\nReactDOM.render(\n  <HashRouter>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}